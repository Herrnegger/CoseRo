% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sensitivity_analysis.R
\name{plot_ensemble_uncertainty}
\alias{plot_ensemble_uncertainty}
\title{Plot Ensemble Uncertainty}
\usage{
plot_ensemble_uncertainty(
  ensemble_output,
  observed = NULL,
  subbasin_id = "0001",
  variable = "QSIM",
  show_observed = TRUE
)
}
\arguments{
\item{ensemble_output}{Output from run_cosero_ensemble_parallel() or
run_cosero_ensemble(), or a list of individual run results}

\item{observed}{Optional data frame with observed data containing 'date'
and 'value' columns. If NULL and \code{show_observed = TRUE}, QOBS is
automatically extracted from the ensemble results (when available).}

\item{subbasin_id}{Subbasin identifier (e.g., "0001"). Default is "0001"}

\item{variable}{Variable to plot (e.g., "QSIM", "QOBS"). Default is "QSIM"}

\item{show_observed}{Logical. If TRUE (default), show observed discharge.
When \code{observed = NULL} and \code{variable = "QSIM"}, QOBS is
automatically extracted from ensemble results.}
}
\value{
ggplot object showing median (blue line), 50\% confidence interval
(dark gray ribbon), 90\% confidence interval (light gray ribbon),
and observed discharge (black line, if available)
}
\description{
Visualizes ensemble uncertainty by plotting median and quantile ranges
across multiple model runs. Works directly with output from
run_cosero_ensemble() or run_cosero_ensemble_parallel().
}
\details{
When \code{variable = "QSIM"} and \code{show_observed = TRUE} (default),
the observed discharge (QOBS) is automatically extracted from the ensemble
results and plotted as a black line. This can be overridden by providing
a custom \code{observed} data frame.
}
\examples{
\dontrun{
# After running ensemble
results <- run_cosero_ensemble_parallel(...)

# Plot uncertainty with auto-extracted QOBS
p <- plot_ensemble_uncertainty(results, subbasin_id = "0001")
print(p)

# Without observed discharge
p <- plot_ensemble_uncertainty(results, subbasin_id = "0001", show_observed = FALSE)

# With custom observed data
obs <- data.frame(date = dates, value = observed_discharge)
p <- plot_ensemble_uncertainty(results, observed = obs, subbasin_id = "0001")
}
}
\seealso{
\code{\link{plot_metric_distribution}} for visualizing ensemble metric distributions
}
