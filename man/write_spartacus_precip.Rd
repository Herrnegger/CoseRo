% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spartacus_preprocessing.R
\name{write_spartacus_precip}
\alias{write_spartacus_precip}
\title{Extract SPARTACUS Precipitation for COSERO Input}
\usage{
write_spartacus_precip(
  nc_dir,
  output_dir,
  model_zones,
  nz_col = "NZ",
  years = NULL,
  n_cores = 1,
  write_binary = FALSE
)
}
\arguments{
\item{nc_dir}{Directory containing yearly SPARTACUS precipitation NetCDF files
(pattern: \code{SPARTACUS2-DAILY_RR_YYYY.nc})}

\item{output_dir}{Directory where the output files will be saved}

\item{model_zones}{sf object containing modeling zones (polygons)}

\item{nz_col}{Name of the column with zone IDs (default: "NZ")}

\item{years}{Optional integer vector of years to process (default: all available)}

\item{n_cores}{Number of cores for parallel processing (default: 1)}

\item{write_binary}{If TRUE, also writes a Fortran-compatible binary file}
}
\value{
Invisibly returns a list with paths to the generated files:
\item{txt}{Path to the text output file}
\item{bin}{Path to the binary file (or NULL if write_binary=FALSE)}
}
\description{
Processes yearly SPARTACUS precipitation NetCDF files and writes a single
text file in COSERO meteorological input format, and optionally a binary file.
}
\details{
\strong{Note}: This function only works with SPARTACUS NetCDF files from GeoSphere
Austria. The filename pattern \code{SPARTACUS2-DAILY_RR_YYYY.nc} is required.

The sparse weight matrix approach (see \code{\link{spartacus_preprocessing}})
enables processing of 60+ years of daily data.
}
\examples{
\dontrun{
library(sf)
zones <- st_read("path/to/your/zones.shp")

# Process precipitation data using 4 cores
write_spartacus_precip(
  nc_dir = "path/to/precip_ncs",
  output_dir = "output/data",
  model_zones = zones,
  years = 2020:2021,
  n_cores = 4,
  write_binary = TRUE
)
}
}
