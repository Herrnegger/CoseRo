% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spartacus_preprocessing.R
\name{write_spartacus_temp}
\alias{write_spartacus_temp}
\title{Extract SPARTACUS Temperature (Tmean) for COSERO Input}
\usage{
write_spartacus_temp(
  tmin_dir,
  tmax_dir,
  output_dir,
  model_zones,
  nz_col = "NZ",
  years = NULL,
  n_cores = 1,
  write_binary = FALSE
)
}
\arguments{
\item{tmin_dir}{Directory containing yearly SPARTACUS Tmin NetCDF files
(pattern: \code{SPARTACUS2-DAILY_TN_YYYY.nc})}

\item{tmax_dir}{Directory containing yearly SPARTACUS Tmax NetCDF files
(pattern: \code{SPARTACUS2-DAILY_TX_YYYY.nc})}

\item{output_dir}{Directory where the output files will be saved}

\item{model_zones}{sf object containing modeling zones (polygons)}

\item{nz_col}{Name of the column with zone IDs (default: "NZ")}

\item{years}{Optional integer vector of years to process (default: all available)}

\item{n_cores}{Number of cores for parallel processing (default: 1)}

\item{write_binary}{If TRUE, also writes a Fortran-compatible binary file}
}
\value{
Invisibly returns a list with paths to the generated files:
\item{txt}{Path to the text output file}
\item{bin}{Path to the binary file (or NULL if write_binary=FALSE)}
}
\description{
Processes yearly SPARTACUS min/max temperature NetCDF files, calculates
pixel-wise mean temperature (Tmean = (Tmin + Tmax) / 2), and writes output
in COSERO meteorological input format.
}
\details{
\strong{Note}: This function only works with SPARTACUS NetCDF files from GeoSphere
Austria. The filename patterns \code{SPARTACUS2-DAILY_TN_YYYY.nc} (Tmin) and
\code{SPARTACUS2-DAILY_TX_YYYY.nc} (Tmax) are required.

Mean temperature is calculated at the pixel level BEFORE spatial aggregation:
\code{Tmean[pixel] = (Tmin[pixel] + Tmax[pixel]) / 2}, then aggregated to zones.

The sparse weight matrix approach (see \code{\link{spartacus_preprocessing}})
enables processing of 60+ years of daily data.
}
\examples{
\dontrun{
library(sf)
zones <- st_read("path/to/your/zones.shp")

# Process temperature with binary output
write_spartacus_temp(
  tmin_dir = "path/to/tmin",
  tmax_dir = "path/to/tmax",
  output_dir = "output/data",
  model_zones = zones,
  n_cores = 4,
  write_binary = TRUE
)
}
}
