% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cosero_optimize.R
\name{create_objective_function}
\alias{create_objective_function}
\title{Create Objective Function}
\usage{
create_objective_function(
  cosero_path,
  par_bounds,
  target_subbasins = "001",
  zones_to_modify = NULL,
  metric = "NSE",
  metric_weights = NULL,
  subbasin_weights = NULL,
  aggregation = "mean",
  defaults_settings = NULL,
  verbose = TRUE,
  use_minimal_reading = TRUE
)
}
\arguments{
\item{cosero_path}{COSERO project path}

\item{par_bounds}{Parameter bounds from create_optimization_bounds()}

\item{target_subbasins}{Subbasin IDs for calibration}

\item{zones_to_modify}{Zone IDs to modify (NULL = all zones)}

\item{metric}{Single or vector of metrics}

\item{metric_weights}{Weights for multiple metrics (sum to 1)}

\item{subbasin_weights}{Weights for subbasins (sum to 1)}

\item{aggregation}{Aggregation: "mean", "weighted", "min", "product"}

\item{defaults_settings}{COSERO settings}

\item{verbose}{Print progress}

\item{use_minimal_reading}{Fast reading (statistics + runoff only)}
}
\value{
A function that takes a parameter vector and returns the objective value
(negative metric for minimization). Has attributes "backup_file" and "par_file"
for restoring the original parameter file after optimization.
}
\description{
Creates a closure that evaluates COSERO model performance for optimization.
Handles parameter modification, model execution, and metric calculation.
}
\keyword{internal}
